<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
	<title>Systo example: Sysdea emulation</title>

    <!-- CSS -->
    <link type="text/css" rel="stylesheet" href="jquery-ui.css"/>
    <link type="text/css" rel="stylesheet" href="jquery-ui-1.9.2.custom.css"/>
    <style>
    div {float:left;}
    .noselect {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }    
    </style>

    <!-- Systo core - defines the SYSTO global variable and some core functions -->
    <script type="text/javascript" src="systo.js"></script>

    <!-- Core libraries -->
    <script type="text/javascript" src="jquery-1.10.2.js"></script>
    <script type="text/javascript" src="jquery-ui-1.10.3.js"></script>
    <script type="text/javascript" src="jquery.layout-latest.js"></script>
    <script type="text/javascript" src="jquery.ui.widget.js"></script>
    <script type="text/javascript" src="formatting.js"></script>
    <script type="text/javascript" src="Blob.js"></script>
    <script type="text/javascript" src="FileSaver.js"></script>

    <!-- Supplementary Systo code -->
    <script type="text/javascript" src="simulation.js"></script>
    <script type="text/javascript" src="action.js"></script>
    <script type="text/javascript" src="equation.js"></script>
    <script type="text/javascript" src="functions.js"></script>
    <script type="text/javascript" src="plugins/codeGenerator/euler1.js"></script>

    <!-- Model language definition(s), held as a Javascript object literal -->
    <script type="text/javascript" src="languages/system_dynamics_sysdea.js"></script>

    <!-- Model(s), held as a Javascript object literal -->
    <script type="text/javascript" src="models/two_species_sir_sysdea.js"></script>

    <!-- The widgets used in this page -->
	<script type="text/javascript" src="systo_widgets/jquery.diagram.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.dialog_sd_node.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.multiple_sliders.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.plotter.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.slider1.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.sysdea_node.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.sysdea_simulation.js"></script>


    <!-- This page's custom script -->
    <script>
        $(document).ready(function() {
            SYSTO.switchToModel('two_species_sir');
            $('#sysdea_node').sysdea_node();
            $('#sysdea_simulation').sysdea_simulation();
            $('#diagram1').diagram({canvasColour:'#ffffa0'}).resizable();
            $('#multiple_sliders1').multiple_sliders().resizable();
            $('#plotter1').plotter({css:{border:'solid 3px red'}}).resizable();
            SYSTO.trigger({
                event_type:'change_model_listener',
                parameters:{packageId:'package1', oldModelId:'',newModelId:'two_species_sir'}
            });

            var controlSwitch = 'run';
            $('#sysdea_control_button').
                hover(function() {
                    if (controlSwitch === 'stop') {
                        //$(this).css({background:'#00b000'});
                    }
                }, function() {
                    if (controlSwitch === 'stop') {
                        //$(this).css({background:'#00a000'});
                    }
                }).
                click(function() {
                    if (controlSwitch === 'stop') {
                        $(this).css({background:'#a00040', color:'#f8f8f8'});
                        $(this).text('Stop simulation');
                        $('#sysdea_node').css({display:'none'});
                        $('#sysdea_simulation').css({display:'block'});
                        controlSwitch = 'run';
                    } else {
                        $(this).css({background:'#00c000', color:'#f8f8f8'});
                        $(this).text('Run simulation');
                        $('#sysdea_node').css({display:'block'});
                        $('#sysdea_simulation').css({display:'none'});
                        controlSwitch = 'stop';
                    }
                });

        });          
    </script>
</head>

<body style="background:#e0e0e0; font-family:sans-serif;">
    <div style="width:100%; margin:3px; border:solid 1px black; background:#f8f8f8; padding:3px; padding-left:10px;">
    <span style="font-size:19px;">Sysdeo</span> <span style="font-weight:bold; font-size:17px;">Disease model for One Health Vet College LSHTN</span>
    </div>

    <div style="width:97%;">

        <div style="float:left; width:280px; height:500px; margin:3px;">
            <div style="float:left; clear:both; border:1px solid black; width:260px; height:36px; background:#f8f8f8">
                <div id="sysdea_control_button" class="noselect" style="float:left; clear:both; border:1px solid black; margin:4px; width:244px; height:20px; background:#a00040;font-weight:bold; font-size:17px; padding:3px; text-align:center;">
                <span style="color:#f8f8f8; ">Stop simulation</span>
                </div>
            </div>
            <div style="float:left; clear:both; border:1px solid black; width:260px; height:450px; background:#f8f8f8; margin-top:6px;">
                <div id="sysdea_node" style="display:none; overflow-y:auto; overflow-x:hidden; float:left; clear:both; width:252px; height:450px; background:#f8f8f8;font-weight:bold; font-size:17px; padding:3px; text-align:center;">
                </div>
                <div id="sysdea_simulation" style="display:block; overflow-y:auto; overflow-x:hidden; float:left; clear:both; width:252px; height:450px; background:#f8f8f8;font-weight:bold; font-size:17px; padding:3px; text-align:center;">
                </div>
            </div>
        </div>

        <div style="float:left;">
            <div id="diagram1" style="float:left; margin:3px; width:900px; height:500px; background:white;border:solid 1px black;">
        </div>
        </div>
    </div>

</body>
</html>

