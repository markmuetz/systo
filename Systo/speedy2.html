<!DOCTYPE HTML>
<html>
<head>
    <title>Systo demo: Speedy2</title>

    <!-- CSS -->
    <link type="text/css" rel="stylesheet" href="jquery-ui.css"/>
    <link type="text/css" rel="stylesheet" href="jquery-ui-1.9.2.custom.css"/>
  <style>
    dialog-form { font-size: 80%; }
    label, input { display:block; }
    input.text { margin-bottom:12px; width:95%; padding: .4em; }
    fieldset { padding:0; border:0; margin-top:25px; }
    h1 { font-size: 1.2em; margin: .6em 0; }
    div#users-contain { width: 350px; margin: 20px 0; }
    div#users-contain table { margin: 1em 0; border-collapse: collapse; width: 100%; }
    div#users-contain table td, div#users-contain table th { border: 1px solid #eee; padding: .6em 10px; text-align: left; }
    .ui-dialog .ui-state-error { padding: .3em; }
    .validateTips { border: 1px solid transparent; padding: 0.3em; }
    span {font-size:12px;}
  </style>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />

    <!-- Systo core - defines the SYSTO global variable and some core functions -->
    <script type="text/javascript" src="systo.js"></script>

    <!-- Core libraries -->
    <script type="text/javascript" src="jquery-1.10.2.js"></script>
    <script type="text/javascript" src="jquery-ui-1.10.3.js"></script>
    <script type="text/javascript" src="formatting.js"></script>
    <script type="text/javascript" src="action.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.ui.widget.js"></script>

    <!-- Supplementary Systo code -->
    <script type="text/javascript" src="generate_simulation_code.js"></script>
    <script type="text/javascript" src="action.js"></script>

    <!-- A model language definition, held as a Javascript object literal -->
    <script type="text/javascript" src="languages/system_dynamics.js"></script>

    <!-- Model(s), held as a Javascript object literal -->
    <script type="text/javascript" src="models/speedy2.js"></script>

    <!-- The widgets used in this page -->
	<script type="text/javascript" src="systo_widgets/jquery.runcontrol.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.slider1.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.multiple_sliders1.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.load_language.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.diagram.js"></script>
    <!--script type="text/javascript" src="http://www.myexperiment.org/files/1025/versions/1/download/jquery.diagram.js"></script-->
	<script type="text/javascript" src="systo_widgets/jquery.plotter.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.equation_listing.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.node_dialog_system_dynamics.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.audio_plotter.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.phase_plane.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.dialog_sd_node.js"></script>


    <!-- This page's custom script -->
    <script>

        $(document).ready(function() {

            generateSimulationFunction(SYSTO.models['speedy2']);
/*
            $('#audio_plotter').audio_plotter({
                modelId:'speedy2',
                includeNodeId: function(nodeId) {
                    var node = SYSTO.models['speedy2'].nodes[nodeId];
                    if (node.type === 'stock') {
                        return true;
                    } else {
                        return false;
                    }
                }
            });
*/
            $('#phase_plane').phase_plane({modelId:'speedy2', xnodeId:'stock1', ynodeId:'stock2'});

            $('#diagram').diagram({modelId:'speedy2', scale:1.1, allowEditing:true});
            $('#diagram').resizable();

            $('#sliders_parameter').multiplesliders1({
                modelId:'speedy2',
                selectNode:function (node) {
                    if (node.label==='turn' || node.label==='accelerator'|| node.label==='drag_coef') {
                        return true;
                    } else {
                        return false;
                    }
                }
            });

            $('#equation_listing').equation_listing({modelId:'speedy2'});

            //$('#node_dialog_system_dynamics').node_dialog_system_dynamics({model:'speedy2'});
            $('#node_dialogs').append(SYSTO.node_dialogs.system_dynamics);

            //$('#dialog_sd_node').dialog_sd_node();

         });
    </script>



<!--script type="text/javascript">
function drawShape(){
  // get the canvas element using the DOM
  var canvas = document.getElementById('mycanvas');
 
  // Make sure we don't execute when canvas isn't supported
  if (canvas.getContext){
 
    // use getContext to use the canvas for drawing
    var ctx = canvas.getContext('2d');
 
    ctx.fillStyle    = 'black';
    ctx.font         = '16px Sans-Serif';
    ctx.textBaseline = 'Top';
    ctx.fillText  ('This description is taken from', 40, 100);

      
  } else {
    alert('You need Safari or Firefox 1.5+ to see this demo.');
  }
}
</script-->



</head>

<body id="body" style="font-family:arial,sans-serif;">
    <div id="diagram" style="float:left; margin:1px; width:700px; height:400px; margin-right:20px; border:solid 1px gray"></div>
    <div id="sliders_parameter" style="padding:7px; margin:1px; width:420px;"></div>

    <div id="phase_plane" style="float:left; width:400px; height:400px; margin:10px;  background:white; border:solid 1px #c0c0c0;"></div>
     <h3 style="clear:both;">Equations</h3>
    <div id="equation_listing"></div>

    <div id="node_dialogs"></div>

    <div id="dialog_sd_node"></div>
</body>
</html>


