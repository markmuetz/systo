<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
	<title>Systo</title>

    <!-- CSS -->
    <link type="text/css" rel="stylesheet" href="jquery-ui.css"/>
    <link type="text/css" rel="stylesheet" href="jquery-ui-1.9.2.custom.css"/>

    <!-- Systo core - defines the SYSTO global variable and some core functions -->
    <script type="text/javascript" src="systo.js"></script>

    <!-- Core libraries -->
    <script type="text/javascript" src="jquery-1.10.2.js"></script>
    <script type="text/javascript" src="jquery-ui-1.10.3.js"></script>
    <script type="text/javascript" src="jquery.layout-latest.js"></script>
    <script type="text/javascript" src="jquery.ui.widget.js"></script>
    <script type="text/javascript" src="formatting.js"></script>
    <script type="text/javascript" src="Blob.js"></script>
    <script type="text/javascript" src="FileSaver.js"></script>

    <!-- three.js -->
    <script src="three_js/Three.js"></script>
    <script src="three_js/Detector.js"></script>
    <script src="three_js/Stats.js"></script>
    <script src="three_js/OrbitControls.js"></script>
    <script src="three_js/THREEx.KeyboardState.js"></script>
    <script src="three_js/THREEx.FullScreen.js"></script>
    <script src="three_js/THREEx.WindowResize.js"></script>

    <!-- Supplementary Systo code -->
    <script type="text/javascript" src="simulation.js"></script>
    <script type="text/javascript" src="action.js"></script>
    <script type="text/javascript" src="equation.js"></script>
    <script type="text/javascript" src="functions.js"></script>
    <script type="text/javascript" src="plugins/codeGenerator/euler1.js"></script>

    <!-- Model language definition(s), held as a Javascript object literal -->
    <script type="text/javascript" src="languages/system_dynamics.js"></script>

    <!-- Model(s), held as a Javascript object literal -->
    <script type="text/javascript" src="models/cascade.js"></script>

    <!-- The widgets used in this page -->
	<script type="text/javascript" src="systo_widgets/jquery.diagram.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.dialog_sd_node.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.multiple_sliders.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.plotter.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.slider1.js"></script>
	<script type="text/javascript" src="systo_widgets/jquery.simple_webgl.js"></script>


    <!-- This page's custom script -->
    <script>
        $(document).ready(function() {
            SYSTO.switchToModel('cascade');

            $('#diagram1').diagram().resizable();
            $('#multiple_sliders1').multiple_sliders().resizable();
            $('#plotter1').plotter({css:{border:'solid 3px red'}}).resizable();
            $('#simple_webgl').simple_webgl();


            SYSTO.trigger({
                file:' simple_webgl.html',
                action: 'page loading',
                event_type: 'change_model_listener',
                parameters: {packageId:'package1', oldModelId:'',newModelId:'cascade'}});
            SYSTO.trigger({
                file: 'simple_webgl.html',
                action: 'page loading',
                event_type: 'display_listener',
                parameters: {packageId:'package1', modelId:'cascade'}});

            //SYSTO.trigger1({event_type:'plotter_custom_event',argument_array:[1,2,3]});
			// This is what wss here - not sure what it does.  Will not work now, becase of arbitrary
			// introdution of the 'values' property.  TODO: investigate and fix.
            SYSTO.trigger({
                file: 'simple_webgl.html',
                action: 'page loading',
                event_type: plotter_custom_event',
                parameters: {packageId:'package1', modelId:'cascade',values[1,2,3]}});
        });          
    </script>
</head>

<body>
    <h1>Example 1</h1>
    <p>Here is some text.  This is just a regular HTML page, so you can do all the normal things, 
    like using <b>bold</b> and <i>italics</i></p>

    <p>The rest of the page simply has 3 widgets for the same model: the "cascade" model, showing water 
    flowing through a chain of 4 tanks.</p>

    <!-- The following divs are containers for the 3 widgets used in this example.   Note that their 
         IDs match the ID reference in the page's custom code above.
         This is the most basic example - you can style and resize the divs, change their layout, and
         add as much HTML as you like. -->
    <p>Here is the model diagram:</p>
    <div id="diagram1" style="float:left;"></div>
    <p>... and here are the sliders and plot of results:</p>
    <div id="multiple_sliders1" style="float:left;"></div>
    <div id="plotter1" style="float:left;"></div>
    <div id="simple_webgl"></div>

</body>
</html>

