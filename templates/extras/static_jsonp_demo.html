<!doctype html>
<html lang="en">
    <head>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script type=text/javascript>
        $(function() {
            $('a#load-jsonp').bind('click', function() {
                get_json($('input#jsonp').val());
            });

        });

        function parsePayload(data) {
            console.debug(data);
            json_str = JSON.stringify(data);
            $("#result").text(json_str);
        }

        function get_json(url) {
            var base_url = 'http://jsonp-proxy.systo.org/_jsonp_proxy/get_jsonp';
            var jsonp_url = base_url + '?url=' + url + '&secret=ce988119-569d-4d72-ba77-ed4e110fef9a';
            console.debug(jsonp_url);

            var script = document.createElement( "script" );
            script.type = "text/javascript";
            script.src = jsonp_url;
            $('head').append(script);
        }
        </script>
    </head>
    <body>
        <input id="jsonp" type="text" style="width:500px" value="http://www.myexperiment.org/files/1376/versions/1/download/miniworld.json"></input>
        <a id="load-jsonp" href="#">Load JSON via JSONP</a>
        <div id="result"></div>
    </body>
</html>

